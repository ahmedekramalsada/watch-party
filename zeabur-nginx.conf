events {  
    worker_connections 1024;  
}  
http {  
    include       mime.types;  
    default_type  application/octet-stream;  
      
    add_header Access-Control-Allow-Origin *;  
    server {  
        listen 8080;  
          
        location / {  
            root /usr/share/nginx/html;  
            try_files $uri $uri/ /index.html;  
        }  
          
        location /live/ {  
            alias /usr/share/nginx/html/live/;  
            add_header Cache-Control no-cache;  
            add_header Access-Control-Allow-Origin *;  
        }  
        location /ws {  
            # âœ… FIXED: Use localhost for WebSocket in Zeabur  
            proxy_pass http://localhost:3000;  
            proxy_http_version 1.1;  
            proxy_set_header Upgrade $http_upgrade;  
            proxy_set_header Connection "upgrade";  
            proxy_set_header Host $host;  
            proxy_read_timeout 86400;  
        }  
    }  
}  
