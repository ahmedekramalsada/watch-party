# ğŸ§  Project Memory - Watch Party Ultimate

## ğŸ“Œ Project Overview
A real-time synchronized video playback application using WebSockets (Node.js) and HLS streaming.

## ğŸ›  Tech Stack
- **Frontend**: HTML5, Vanilla CSS, JS (HLS.js, WebSocket API)
- **Backend**: Node.js (ws)
- **Streaming/Proxy**: Nginx (SRS Media Server was mentioned in docs)
- **Deployment**: Docker, Docker Compose, Zeabur-ready

## ğŸ“ Recent Context & Decisions
- The project is structured with `frontend/`, `backend/`, and `media/`.
- Deployment is focused on Docker/Docker Compose.
- Supports Arabic and English documentation.
- Link-only library system via `media/catalog.json`.
- **Robust Player Update**: Added `crossorigin="anonymous"`, enhanced HLS detection (master/playlist strings), and implemented playback error reporting to other users via WebSocket chat.

## ğŸš¦ Current Status
- Basic infrastructure is in place.
- Dockerized setup is available (`Dockerfile`, `docker-compose.yml`).
- Synchronization logic is implemented in `backend/server.js` and `frontend/room.html`.
- **Universal Video Detection**: Integrated `yt-dlp` and custom site resolvers (Vidspeed, Uqload) on the backend to automatically extract direct streams from webpage links, mimicking the "Twoseven" extension experience.
- **Enhanced Player**: Supports dynamic CORS, Referrer bypass, and better error diagnostics.

## ğŸ’¡ Important Ideas / To-Do
- [ ] Implement Video upload UI (from roadmap)
- [ ] Add Playlist support
- [ ] User avatars and reactions
- [ ] Screen sharing integration
- [ ] Ensure best practices for WebSocket error handling and reconnection.
